<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>ViperCard - Functions</title>
<meta name="description" content="description">
<meta name="keywords" content="keywords">

<!-- Twitter Cards -->
<meta name="twitter:title" content="Projects">
<meta name="twitter:site" content="@vipercarddotnet">
<meta name="twitter:creator" content="@vipercarddotnet">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.vipercard.net/resources/intro/desc.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="ViperCard">
<meta property="og:url" content="https://www.vipercard.net/">
<meta property="og:site_name" content="ViperCard">

<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="../../../resources/intro/script_reference/github-markdown.css">
<style>
	.markdown-body {
		box-sizing: border-box;
		min-width: 200px;
		max-width: 980px;
		margin: 0 auto;
		padding: 45px;
	}

	@media (max-width: 767px) {
		.markdown-body {
			padding: 15px;
		}
	}
</style>

<meta http-equiv="cleartype" content="on">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115931349-1"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'UA-115931349-1');
</script>
</head>

<body id="page">

<article class="markdown-body">
	<h1>ViperCard Script Reference </h1>
    <p>To see how to use ViperCard, first <a href="../video.html">see the videos here</a>.</p>
    <p>
<a href="01_fundamentals.html">Fundamentals</a> |
Functions |
<a href="03_events.html">Events</a> |
<a href="04_commands.html">Commands</a> |
<a href="05_properties.html">Properties</a></p>
</article>

<article class="markdown-body entry-content" itemprop="text">
<h2><a id="user-content-absx" class="anchor" aria-hidden="true" href="#absx"></a>abs(x)</h2>
<p>Absolute value.</p>
<p>Examples:</p>
<pre><code>put abs(-0.5) into x
put abs(0.5) into x
</code></pre>
<h2><a id="user-content-atanx" class="anchor" aria-hidden="true" href="#atanx"></a>atan(x)</h2>
<p>Arctangent, in radians.</p>
<p>Examples:</p>
<pre><code>put atan(0.5) into x
</code></pre>
<h2><a id="user-content-chartonumx" class="anchor" aria-hidden="true" href="#chartonumx"></a>charToNum(x)</h2>
<p>From ascii-like number to a character.
Note that characters in a field are displayed in Mac OS Roman
encoding.</p>
<p>Note that the newline character is always \n (10).</p>
<p>Examples:</p>
<pre><code>put charToNum(97) into x
</code></pre>
<h2><a id="user-content-clickh" class="anchor" aria-hidden="true" href="#clickh"></a>clickh()</h2>
<p>In a mousedown or mouseup handler, get click x coordinate.</p>
<p>Examples:</p>
<pre><code>put clickh() into x
</code></pre>
<h2><a id="user-content-clickloc" class="anchor" aria-hidden="true" href="#clickloc"></a>clickloc()</h2>
<p>In a mousedown or mouseup handler, get click coordinates.</p>
<p>Examples:</p>
<pre><code>put clickloc() into x
</code></pre>
<h2><a id="user-content-clickv" class="anchor" aria-hidden="true" href="#clickv"></a>clickv()</h2>
<p>In a mousedown or mouseup handler, get click y coordinate.</p>
<p>Examples:</p>
<pre><code>put clickv() into x
</code></pre>
<h2><a id="user-content-commandkey" class="anchor" aria-hidden="true" href="#commandkey"></a>commandKey()</h2>
<p>In an afterkeydown or afterkeyup handler, check if this modifier
key is pressed.</p>
<p>Examples:</p>
<pre><code>put commandKey() into x

put cmdkey() into x -- same as above.
</code></pre>
<h2><a id="user-content-contains" class="anchor" aria-hidden="true" href="#contains"></a>contains</h2>
<p>Examples:</p>
<pre><code>if "abc" contains "b" then
    answer "yes"
end if
</code></pre>
<h2><a id="user-content-cosx" class="anchor" aria-hidden="true" href="#cosx"></a>cos(x)</h2>
<p>Examples:</p>
<pre><code>put cos(0.5) into x
</code></pre>
<h2><a id="user-content-diskspace" class="anchor" aria-hidden="true" href="#diskspace"></a>diskSpace()</h2>
<p>(Deprecated and hard-coded).</p>
<p>Examples:</p>
<pre><code>put diskSpace() into x
</code></pre>
<h2><a id="user-content-expx" class="anchor" aria-hidden="true" href="#expx"></a>exp(x)</h2>
<p>e to the power of x.</p>
<p>Examples:</p>
<pre><code>put exp(0.5) into x
</code></pre>
<h2><a id="user-content-exp1x" class="anchor" aria-hidden="true" href="#exp1x"></a>exp1(x)</h2>
<p>(e to the power of x) minus 1.</p>
<p>Examples:</p>
<pre><code>put exp1(0.5) into x
</code></pre>
<h2><a id="user-content-exp2x" class="anchor" aria-hidden="true" href="#exp2x"></a>exp2(x)</h2>
<p>2 to the power of x.</p>
<p>Examples:</p>
<pre><code>put exp2(0.5) into x
</code></pre>
<h2><a id="user-content-heapspace" class="anchor" aria-hidden="true" href="#heapspace"></a>heapSpace()</h2>
<p>(Deprecated and hard-coded).</p>
<p>Examples:</p>
<pre><code>put heapSpace() into x
</code></pre>
<h2><a id="user-content-is-a" class="anchor" aria-hidden="true" href="#is-a"></a>is a</h2>
<p>Check the type of an expression.</p>
<p>Examples:</p>
<pre><code>if x is a number then
    answer "a"
end if
if x is a integer then
    answer "b"
end if
if x is a logical then
    answer "c"
end if
if x is a point then
    answer "d"
end if
if x is a rect then
    answer "e"
end if
</code></pre>
<h2><a id="user-content-is-in" class="anchor" aria-hidden="true" href="#is-in"></a>is in</h2>
<p>Examples:</p>
<pre><code>if "b" is in "abc" then
    answer "yes"
end if
</code></pre>
<h2><a id="user-content-is-within" class="anchor" aria-hidden="true" href="#is-within"></a>is within</h2>
<p>Same as "is in".</p>
<p>Examples:</p>
<pre><code>if "b" is in "abc" then
    answer "yes"
end if
</code></pre>
<h2><a id="user-content-keychar" class="anchor" aria-hidden="true" href="#keychar"></a>keyChar()</h2>
<p>In an afterkeydown or afterkeyup handler, check the character.
Is affected by shift.</p>
<p>Examples:</p>
<pre><code>put keyChar() into x
on afterKeyDown
    if keyChar() is "i" and not shiftKey() and \
            optionKey() and not commandKey() then
        answer "you pressed option-i"
    else if keyChar() is "U" and shiftKey() and \
            not optionKey() and not commandKey() then
        answer "you pressed shift-u"
    end if
end afterKeyDown
</code></pre>
<h2><a id="user-content-keyrepeated" class="anchor" aria-hidden="true" href="#keyrepeated"></a>keyRepeated()</h2>
<p>In an afterkeydown handler, did this event come from the user holding the key down?</p>
<p>Examples:</p>
<pre><code>if not keyRepeated() then
    add 1 to uniqueKeyPresses
end if
</code></pre>
<h2><a id="user-content-lengths" class="anchor" aria-hidden="true" href="#lengths"></a>length(s)</h2>
<p>Returns the length of a string, in characters.
Also supports alternate syntax 'the length of "abc"'.</p>
<p>Examples:</p>
<pre><code>answer length("abc") -- displays 3
answer (the length of "") -- displays 0
answer (the length of "abc") -- displays 3
</code></pre>
<h2><a id="user-content-lnx" class="anchor" aria-hidden="true" href="#lnx"></a>ln(x)</h2>
<p>Examples:</p>
<pre><code>put ln(0.5) into x
</code></pre>
<h2><a id="user-content-ln1x" class="anchor" aria-hidden="true" href="#ln1x"></a>ln1(x)</h2>
<p>Natural logarithm of (x + 1)</p>
<p>Examples:</p>
<pre><code>put ln1(0.5) into x
</code></pre>
<h2><a id="user-content-log2x" class="anchor" aria-hidden="true" href="#log2x"></a>log2(x)</h2>
<p>Examples:</p>
<pre><code>put log2(0.5) into x
</code></pre>
<h2><a id="user-content-max" class="anchor" aria-hidden="true" href="#max"></a>max(...)</h2>
<p>Supports any number of arguments.
You can also provide a comma-delimited string.</p>
<p>Examples:</p>
<pre><code>put max(1,2,3) into x
put max("45,49,40") into x -- returns 49
</code></pre>
<h2><a id="user-content-me" class="anchor" aria-hidden="true" href="#me"></a>me</h2>
<p>Refers to the object that owns the current script.</p>
<p>Similar to, but distinct from 'target'.</p>
<p>Examples:</p>
<pre><code>put the id of me into theTarget

set the width of me to 100
</code></pre>
<h2><a id="user-content-min" class="anchor" aria-hidden="true" href="#min"></a>min()</h2>
<p>Supports any number of arguments.
You can also provide a comma-delimited string.</p>
<p>Examples:</p>
<pre><code>put min(1,2,3) into x
put min("45,49,40") into x -- returns 40
</code></pre>
<h2><a id="user-content-mouse" class="anchor" aria-hidden="true" href="#mouse"></a>mouse()</h2>
<p>Is the mouse button currently down.</p>
<p>Examples:</p>
<pre><code>put mouse() into x
</code></pre>
<h2><a id="user-content-mouseclick" class="anchor" aria-hidden="true" href="#mouseclick"></a>mouseclick()</h2>
<p>Are we currently handling a mousedown or mouseup event.</p>
<p>Examples:</p>
<pre><code>put mouseclick() into x
</code></pre>
<h2><a id="user-content-mouseh" class="anchor" aria-hidden="true" href="#mouseh"></a>mouseh()</h2>
<p>The x coordinate of mouse location.</p>
<p>Examples:</p>
<pre><code>put mouseh() into x
</code></pre>
<h2><a id="user-content-mouseloc" class="anchor" aria-hidden="true" href="#mouseloc"></a>mouseloc()</h2>
<p>The coordinates of mouse location.</p>
<p>Examples:</p>
<pre><code>put mouseloc() into x
</code></pre>
<h2><a id="user-content-mousev" class="anchor" aria-hidden="true" href="#mousev"></a>mousev()</h2>
<p>The y coordinate of mouse location.</p>
<p>Examples:</p>
<pre><code>put mousev() into x
</code></pre>
<h2><a id="user-content-numtocharx" class="anchor" aria-hidden="true" href="#numtocharx"></a>numToChar(x)</h2>
<p>From a character to an ascii-like number.
Note that characters in a field are displayed in Mac OS Roman
encoding.</p>
<p>Note that the newline character is always \n (10).</p>
<p>Examples:</p>
<pre><code>put numToChar("a") into x
</code></pre>
<h2><a id="user-content-number" class="anchor" aria-hidden="true" href="#number"></a>number</h2>
<p>Can be used to either count number of objects, or to count
lines/items in a string.</p>
<p>Examples:</p>
<pre><code>answer (the number of chars in "1,2,3")
answer (the number of items in "1,2,3")
answer (the number of words in "1,2,3")
answer (the number of lines in "1,2,3")
answer (the number of cards)
answer (the number of card buttons)
answer (the number of card fields)
</code></pre>
<h2><a id="user-content-numbertostrx" class="anchor" aria-hidden="true" href="#numbertostrx"></a>numberToStr(x)</h2>
<p>Convert number to string.</p>
<p>Examples:</p>
<pre><code>put numberToStr(0.5) into x
</code></pre>
<h2><a id="user-content-offsetneedle-haystack" class="anchor" aria-hidden="true" href="#offsetneedle-haystack"></a>offset(needle, haystack)</h2>
<p>Note: one-based indexing.
If needle is not found, returns 0.</p>
<p>Examples:</p>
<pre><code>put offset("b", "abc") into x
</code></pre>
<h2><a id="user-content-optionkey" class="anchor" aria-hidden="true" href="#optionkey"></a>optionKey()</h2>
<p>In an afterkeydown or afterkeyup handler, check if this modifier
key is pressed.</p>
<p>Examples:</p>
<pre><code>put optionKey() into x
</code></pre>
<h2><a id="user-content-paramn" class="anchor" aria-hidden="true" href="#paramn"></a>param(n)</h2>
<p>Get the nth value passed into the current procedure. Can be used
to build a function that takes any number of arguments,
see example.</p>
<p>Examples:</p>
<pre><code>on mySumOfNumbers
    put 0 into total
    repeat with x = 1 to paramCount()
        put total + param(x) into total
    end repeat
    answer ("total is" &amp;&amp; total)
end mySumOfNumbers

on mouseUp
    mySumOfNumbers 1, 2, 3
end mouseUp
</code></pre>
<h2><a id="user-content-paramcount" class="anchor" aria-hidden="true" href="#paramcount"></a>paramCount()</h2>
<p>Get the number of values passed into the current procedure.
Can be used to build a function that takes any number of
arguments, see example.</p>
<p>Examples:</p>
<pre><code>on mySumOfNumbers
    put 0 into total
    repeat with x = 1 to paramCount()
        put total + param(x) into total
    end repeat
    answer ("total is" &amp;&amp; total)
end mySumOfNumbers

on mouseUp
    mySumOfNumbers 1, 2, 3
end mouseUp
</code></pre>
<h2><a id="user-content-params" class="anchor" aria-hidden="true" href="#params"></a>params()</h2>
<p>Get all of the values passed into the current procedure.</p>
<p>Examples:</p>
<pre><code>put params() into x
</code></pre>
<h2><a id="user-content-randomn" class="anchor" aria-hidden="true" href="#randomn"></a>random(n)</h2>
<p>n must be an integer.
Returns random value between 1 and n.</p>
<p>Examples:</p>
<pre><code>put random(20) into roll
</code></pre>
<h2><a id="user-content-result" class="anchor" aria-hidden="true" href="#result"></a>result()</h2>
<p>The return value of the last called function or procedure.</p>
<p>Examples:</p>
<pre><code>on myProc
    return "a"
end myProc
on mouseUp
    myProc
    answer (result())
end mouseUp
</code></pre>
<h2><a id="user-content-roundx" class="anchor" aria-hidden="true" href="#roundx"></a>round(x)</h2>
<p>Returns integer nearest to number. Odd integers plus 0.5
round up, even integers plus 0.5 round down.</p>
<p>Examples:</p>
<pre><code>put round(1.7) into x
</code></pre>
<h2><a id="user-content-screenrect" class="anchor" aria-hidden="true" href="#screenrect"></a>screenRect()</h2>
<p>Examples:</p>
<pre><code>put screenRect() into x
</code></pre>
<h2><a id="user-content-seconds" class="anchor" aria-hidden="true" href="#seconds"></a>seconds()</h2>
<p>Seconds since January 1, 1904.</p>
<p>Examples:</p>
<pre><code>put seconds() into x
</code></pre>
<h2><a id="user-content-selectedchunk" class="anchor" aria-hidden="true" href="#selectedchunk"></a>selectedChunk()</h2>
<p>Current selection, looks something like 'char 2 to 4 of cd fld id
1234'.</p>
<p>Examples:</p>
<pre><code>put selectedChunk() into x
</code></pre>
<h2><a id="user-content-selectedfield" class="anchor" aria-hidden="true" href="#selectedfield"></a>selectedField()</h2>
<p>The field that contains current selected text, looks something
like 'cd fld id 1234'.</p>
<p>Examples:</p>
<pre><code>put selectedField() into x
</code></pre>
<h2><a id="user-content-selectedline" class="anchor" aria-hidden="true" href="#selectedline"></a>selectedLine()</h2>
<p>The number of the line of the current selected text.</p>
<p>Examples:</p>
<pre><code>put selectedLine() into x
</code></pre>
<h2><a id="user-content-selectedtext" class="anchor" aria-hidden="true" href="#selectedtext"></a>selectedText()</h2>
<p>The value of the current selected text.</p>
<p>Examples:</p>
<pre><code>put selectedText() into x
</code></pre>
<h2><a id="user-content-shiftkey" class="anchor" aria-hidden="true" href="#shiftkey"></a>shiftKey()</h2>
<p>In an afterkeydown or afterkeyup handler, check if this modifier
key is pressed.</p>
<p>Examples:</p>
<pre><code>put shiftKey() into x
</code></pre>
<h2><a id="user-content-sinx" class="anchor" aria-hidden="true" href="#sinx"></a>sin(x)</h2>
<p>Examples:</p>
<pre><code>put sin(0.5) into x
</code></pre>
<h2><a id="user-content-sqrtx" class="anchor" aria-hidden="true" href="#sqrtx"></a>sqrt(x)</h2>
<p>Examples:</p>
<pre><code>put sqrt(0.5) into x
</code></pre>
<h2><a id="user-content-stackspace" class="anchor" aria-hidden="true" href="#stackspace"></a>stackSpace()</h2>
<p>(Deprecated and hard-coded).</p>
<p>Examples:</p>
<pre><code>put stackSpace() into x
</code></pre>
<h2><a id="user-content-strtonumberx" class="anchor" aria-hidden="true" href="#strtonumberx"></a>strToNumber(x)</h2>
<p>Parse string to number.
Supports scientific notation.
If cannot be parsed, returns "false"</p>
<p>Examples:</p>
<pre><code>put strToNumber("12") into x
put strToNumber("-12") into x
put strToNumber("1e6") into x
</code></pre>
<h2><a id="user-content-sum" class="anchor" aria-hidden="true" href="#sum"></a>sum()</h2>
<p>Supports any number of arguments.
You can also provide a comma-delimited string.</p>
<p>Examples:</p>
<pre><code>put sum(1,2,3) into x
put sum("1,2,3") into x -- returns 6
</code></pre>
<h2><a id="user-content-systemversion" class="anchor" aria-hidden="true" href="#systemversion"></a>systemVersion()</h2>
<p>(Deprecated and hard-coded).
To get the current software version, use
put the version into x
or
put the long version into x
instead.</p>
<p>Examples:</p>
<pre><code>put systemVersion() into x
</code></pre>
<h2><a id="user-content-tanx" class="anchor" aria-hidden="true" href="#tanx"></a>tan(x)</h2>
<p>Examples:</p>
<pre><code>put tan(0.5) into x
</code></pre>
<h2><a id="user-content-target" class="anchor" aria-hidden="true" href="#target"></a>target</h2>
<p>Refers to the object that was most recently acted on.
Here's one reason why this can be useful:
If you have many buttons that all basically perform the same
action, you could have an 'on mouseup' handler in the card script
instead of a separate script within each button. This script in the
card could check the target to see which, if any, of the buttons
were clicked.</p>
<p>Similar to, but distinct from 'me'.</p>
<p>Examples:</p>
<pre><code>put the id of target into theTarget

set the width of the target to 100
</code></pre>
<h2><a id="user-content-there-is-a" class="anchor" aria-hidden="true" href="#there-is-a"></a>there is a</h2>
<p>Check for the existence of an object</p>
<p>Examples:</p>
<pre><code>if there is a cd btn id 12345 then
    answer "found"
end if
</code></pre>
<h2><a id="user-content-ticks" class="anchor" aria-hidden="true" href="#ticks"></a>ticks()</h2>
<p>Ticks (60th of a second) since January 1, 1904.</p>
<p>Examples:</p>
<pre><code>put ticks() into x
</code></pre>
<h2><a id="user-content-tool" class="anchor" aria-hidden="true" href="#tool"></a>tool()</h2>
<p>The tool to be used when programmatically drawing shapes.
(Not the actual tool, which would always be Browse)</p>
<p>See also: the click, drag commands.</p>
<p>Examples:</p>
<pre><code>choose "pencil" tool
click at 10,20
-- this draws a black pixel at the coordinates x=10, y=20
put tool() into x
</code></pre>
<h2><a id="user-content-truncx" class="anchor" aria-hidden="true" href="#truncx"></a>trunc(x)</h2>
<p>Get integer part of a number.
i.e. for positive numbers, always round down to the nearest
integer.</p>
<p>Examples:</p>
<pre><code>put trunc(0.5) into x
</code></pre>
</article>
</body>
</html>

